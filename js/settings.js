export function renderSettings(e,t,n,o){if(!e||!t||!o)throw new Error("[SETTINGS_ERROR] Invalid argument");const c=document.getElementById("settings");if(!c)return;("ontouchstart"in window||navigator.maxTouchPoints>0)&&(window.location.pathname.includes("/room")||c.classList.add("t-25px")),c.innerHTML='\n    <div class="settings-actions">\n        <button id="btnSettings">\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>\n        </button>\n    </div>\n  ';let s=null,a=null,l=null;function i(e){const t=document.createElement("div");return e&&t.classList.add(e),t}function r(){const e=i("settings-options"),t=document.createElement("ul"),c={Boards:u(),Pieces:d()};return Object.keys(c).forEach((e=>{const n=document.createElement("li");t.append(n),n.textContent=e,n.classList.add("expandable"),n.onclick=()=>{a.replaceChildren(c[e]),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>'+e}})),e.append(t,function(){const e=i("settings-bot"),t=i("title"),o=document.createElement("span"),c=document.createElement("span"),s=document.createElement("input");o.textContent="Bot Difficulty",c.textContent="Level 1";let a=localStorage.getItem("difficulty");s.type="range",s.min="0",s.max="7",s.value=+a<=-1?"7":a;const l=()=>{parseInt(s.value)<7?c.textContent="Level "+(parseInt(s.value)+1):c.textContent="max"};return l(),s.oninput=()=>{l()},s.onchange=()=>{let e=s.value<7?s.value:-1;n(e),localStorage.setItem("difficulty",e)},t.append(o,c),e.append(t,s),e}(),function(){const e=i("settings-bot"),t=i("title"),n=document.createElement("span"),c=document.createElement("span"),s=document.createElement("input");n.textContent="Bot Thinking Time",c.textContent="2s";let a=localStorage.getItem("search-time");s.type="range",s.min="0",s.max="10",s.value=+a<=-1?"10":a;const l=()=>{parseInt(s.value)<10?c.textContent=parseInt(s.value)+1+"s":c.textContent="max"};return l(),s.oninput=()=>{l()},s.onchange=()=>{let e=s.value<10?s.value:-1;o(e),localStorage.setItem("search-time",e)},t.append(n,c),e.append(t,s),e}()),e}function d(){const t=i("settings-view--pieces"),n=i("settings-options"),o=document.createElement("ul"),c=["cburnett","fritz","icy_sea","ocean","glass","game_room","neo","3d_staunton"],s=["wk","bq","wr","bb","wn","bp"],a="https://raw.githubusercontent.com/lightzane/chess.com-boards-and-pieces/refs/heads/main/pieces",l=/\/pieces\/(.*)\/(.*)\./i,r=/\/pieces\/.*\/(b|w)(k|q|r|b|n|p)\.(svg|png)$/i,d=localStorage.getItem("pieces");return c.includes(d)||localStorage.removeItem("pieces"),c.forEach((t=>{const n=document.createElement("li");d===t&&(n.classList.add("selected"),setTimeout((()=>{n.scrollIntoView({behavior:"smooth"})}),1e3)),o.append(n);let c="png";"cburnett"===t&&(c="svg"),s.forEach((e=>{const o=document.createElement("img");o.src=((e,t)=>`${a}/${e}/${t}.`)(t,e)+c,n.append(o)})),n.onclick=()=>{Object.keys(e).forEach((n=>{const o=e[n];if(!r.test(o))return;const[s,l,i]=r.exec(o),d=`${a}/${t}/${l}${i}.${c}`;e[n]=d})),document.querySelectorAll(".board .square .piece img").forEach((e=>{if(!l.test(e.src))return;const[n,o,s]=l.exec(e.src);e.src=`${a}/${t}/${s}.${c}`})),o.querySelectorAll("li").forEach((e=>e.classList.remove("selected"))),n.classList.add("selected"),localStorage.setItem("pieces",t)}})),t.append(n),n.append(o),t}function u(){const e=i("settings-view--boards"),n=i("settings-options"),o=document.createElement("ul"),c=["custompink","icy_sea","customwood","custombrown","customblue","dark_wood","bases","customgreen"],s=/^\/([a-z]*)\/*/i;let a=window.location.pathname;if(s.test(a)){const e=["room","cheese"],t=s.exec(a)[1];a=e.includes(t)?"/"+t:"..","room"===t&&(a="")}const l=`${a}/images/board`,r=localStorage.getItem("board");return c.includes(r)||localStorage.removeItem("board"),c.forEach((e=>{const n=document.createElement("li");r===e&&(n.classList.add("selected"),setTimeout((()=>{n.scrollIntoView({behavior:"smooth"})}),1e3)),o.append(n);const c=document.createElement("img");c.src=`${l}/thumbnail-${e.replace("custom","")}.png`,n.append(c),n.onclick=()=>{t(e),o.querySelectorAll("li").forEach((e=>e.classList.remove("selected"))),n.classList.add("selected"),localStorage.setItem("board",e)}})),e.append(n),n.append(o),e}document.getElementById("btnSettings").addEventListener("click",(()=>{s=function(){const e=i("settings-popup");return e.append(function(){const e=i("settings-content"),t=i("settings-header"),n=i("settings-body"),o=i("settings-title"),c=document.createElement("a");return e.onclick=e=>{e.stopPropagation()},o.textContent="Settings",c.classList.add("close"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-x"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>',c.href="#",c.onclick=e=>{e.preventDefault(),s.remove(),s=null},a=r(),l=o,l.onclick=()=>{l.innerHTML="Settings",a.replaceChildren(r())},e.append(t),e.append(n),t.append(o),t.append(c),n.append(a),e}()),e}(),s.onclick=()=>{s.remove(),s=null},document.body.append(s)}))}