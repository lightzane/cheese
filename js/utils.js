export const uuid=(e=Math,t=16,n=n=>e.floor(n).toString(t),o=o=>" ".repeat(o).replace(/./g,(()=>n(e.random()*t))))=>o(8)+"-"+o(4)+"-"+o(4)+"-"+o(4)+"-"+o(12);export function displayQRCode(){const e=document.querySelector(".qr-container");if(!e)return;e.style.display="flex";const t=document.getElementById("qr");if(!t)return void(e.style.display="none");new QRCode(t,window.location.href);let n=document.getElementById("qrIcon");const o=t.querySelector("img"),r=t.getBoundingClientRect().width;let a=0;n||(a=.35*r,n=document.createElement("img"),n.id="qrIcon",n.alt="qr-icon",n.style.width=`${a}px`,e.append(n)),n.src="./images/wn.png";const i=.65*a,c=(r-i)/2;let s=0;function l(){if(s++,2!==s)return;const a=document.createElement("canvas"),l=a.getContext("2d"),d=window.devicePixelRatio||1;a.width=r*d,a.height=r*d,a.style.width=`${r}px`,a.style.height=`${r}px`,l.scale(d,d),l.drawImage(o,0,0);const p=r/2,u=p,g=.15*r,m=2*Math.PI;l.lineWidth=3.5,l.strokeStyle="gold",l.fillStyle="#fff9c4",l.beginPath(),l.arc(p,u,g,0,m),l.fill(),l.stroke(),l.drawImage(n,c,c,i,i);const w=new Image;w.id="merged",w.src=a.toDataURL(),w.alt="qr-code",w.title=t.title,e.append(w),n.remove(),o.remove()}o.onload=l,n.onload=l}export function hideQRCode(){const e=document.querySelector(".qr-container");e&&(e.style.display="none")}export async function lock(){if("wakeLock"in navigator)try{wakeLock=await navigator.wakeLock.request("screen"),wakeLock.addEventListener("release",(()=>{}))}catch(e){}else console.warn("Lock not supported")}export function getDate(){const e=new Date(Date.now());return`${e.getFullYear()}.${(e.getMonth()+1).toString().padStart(2,"0")}.${e.getDate().toString().padStart(2,"0")}`}export function isUppercase(e){return e===e.toUpperCase()}export function simpleClone(e){return e.map((e=>({...e})))}window.addEventListener("contextmenu",(e=>{e.preventDefault()}));let e=0;async function t(){let e=null;try{e=await fetch("https://api.github.com/repos/nmrugg/stockfish.js/contents/src/stockfish-17-asm.js",{method:"GET",headers:{Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}})}catch(e){console.error(e)}if(e&&404===e.status){const e="⚠️ A new version of engine is available!";console.warn(e),alert(e)}}window.addEventListener("touchend",(t=>{const n=(new Date).getTime();n-e<=300?t.preventDefault():e=n})),Math.random()<.3&&t();